<!DOCTYPE html>
<html class="light" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="A Wave Function Collapse Solver">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- TODO(yan): Favicon -->

  <title>Without Fear</title>
  <link rel="stylesheet" type="text/css" href="../main.css">
</head>
<body class="light">
  <main>
    <a href="../index.html">Go back</a>
    <section>
      <div>
        <h1>Monoceros</h1>
        <h2>A Wave Function Collapse Solver and Grasshopper plugin</h2>
      </div>
      <div><!-- EMPTY --></div>
      <div>
        <p class="mt25">
          In 2020, <a href="https://sub.digital">Subdigital</a> hosted a summer
          internship with the aim to develop and utilize a discrete
          materialization method of data-driven design with available
          fabrication technology. We picked Wave Function Collapse - a method
          already well known in the game development community thanks to people
          like <a href="https://twitter.com/ExUtumno">Maxim Gumin</a>
          and <a href="https://twitter.com/OskSta">Oskar Stålberg</a>, but still
          somewhat under-exploited at the time in the fields of computational
          design and architecture.
        </p>

        <p>
          Ján Pernecký and I created the software tools necessary for the
          internship students to experiment with the method. We opted to make
          the WFC solver a plugin
          for <a href="https://www.grasshopper3d.com/">Grasshopper</a>, an node
          based programming language for computationally creating shapes and
          forms.
        </p>
      </div>
      <div><!-- EMPTY --></div>

      <div>
        <p>
          That initial summer exploration was later expanded on. Driven by usage
          experience and over the course of many observations, Ján Pernecký
          collapsed his original WFC tools
          into <a href="https://monoceros.sub.digital">Monoceros</a>, a full
          fledged Grasshopper plugin.
        </p>

        <p>
          While my own work on Monoceros amounted to mostly brainstorming and
          rubber-ducking, I am glad it still uses the original solver from the
          summer because of the optimization work that went into it. To enable
          fast iteration for designers, we knew the tool needed to respond to
          parameter changes quickly, ideally real-time. The heavy lifting is
          therefore implemented in Rust and loaded into Grasshopper as a
          DLL. Inside the library itself, WFC slots and the modules they
          contained were represented as compact bit vectors of 256 bits and
          operated on by just a handful of bitwise instructions and bit-counting
          intrinsics. While initially worried about the 256 limit on the WFC
          module count, the projects rarely reach this limit in practice. A
          future extension might be to fall back to a less compact (and
          therefore possibly slower) representation for definitions with large
          module counts.
        </p>
      </div>
      <picture>
        <img src="./4-voids.jpg" sizes="100vw"
             srcset="./4-voids.jpg 1000w" />
        <p>Bonn voids, designed with Monoceros; picture courtesy of Ján Pernecký & Subdigital</p>
      </picture>

    </section>
  </main>

  <footer>
    <p>Ján Tóth</p>
    <p>yanchith@withoutfearofwindorvertigo.com</p>
    <p><a href="https://github.com/yanchith/">github.com/yanchith/</p>
    <p><a href="https://twitter.com/yanchith">twitter.com/yanchith/</p>
  </footer>
</body>
</html>
