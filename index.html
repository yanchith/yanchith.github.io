<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Yan is a programmer in love with virtual worlds">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@yanchith">
  <meta name="twitter:title" content="Yan Toth">
  <meta name="twitter:description" content="Yan is a programmer in love with virtual worlds">
  <meta name="twitter:creator" content="@yanchith">
  <!-- TODO(yan): Icon -->
  <!-- <meta name='twitter:image' content='https://100r.co/media/services/icon.jpg'> -->

  <!-- TODO(yan): Open Graph -->

  <!-- TODO(yan): Favicon -->
  <!-- <link rel='icon' type='image/x-icon' href='../media/services/favicon.ico'> -->

  <title>Yan Tóth</title>
  <link rel="stylesheet" type="text/css" href="./main.css">
</head>
<body>

  <header>
    <a href="index.html"><h1>Yan Tóth<h1></a>
  </header>

  <main>
    <section>
      <div>
        <p>
          I am an independent programmer and researcher in love with virtual
          worlds, game development, computer graphics and compilers.
        </p>
        <p>
          I've been programming since 2009, and since 2016 I have predominantly
          worked on computer graphics and digital arts projects, such as
          the <a href="https://www.vectary.com/">Vectary</a> online 3D editor,
          the <a href="https://www.dungeonfog.com/">DungeonFog</a> map editor,
          and various interactive models and installations with
          <a href="https://sub.digital">Subdigital</a>.
        </p>

        <p>
          I believe in first principles thinking, and that programmers should
          not be adding incidental complexity to the software they create. I do
          have an academic appreciation for strange things, but lately I prefer
          simpler tools where the programmer can understand what is going on
          under the hood. To that end, I enjoy using Rust whenever I can, and C
          or TypeScript otherwise.
        </p>
      </div>
    </section>

    <h1>Works</h1>

    <!-- TODO(yan): List more projects: Walkers? Webglutenfree? -->
    <!-- TODO(yan): Use WebP for images -->

    <section>
      <div>
        <h1>Wave Function Collapse</h1>
        <h2>A WFC Solver and Grasshopper plugin with Subdigital</h2>
      </div>
      <div><!-- EMPTY --></div>
      <div>
        <!-- TODO(yan): Link to Subdigital WFC website -->
        <!-- TODO(yan): Link to Subdigital WFC repository -->
        <p class="mt25">
          In 2020, <a href="https://sub.digital">Subdigital</a> hosted a summer
          internship with the aim to develop and utilize a discrete
          materialization method of data-driven design with available
          fabrication technology. We picked Wave Function Collapse - a method
          already well known in the game development community thanks to people
          like <a href="https://twitter.com/ExUtumno">Maxim Gumin</a>
          and <a href="https://twitter.com/OskSta">Oskar Stålberg</a>, but still
          somewhat under-exploited at the time in the fields of computational
          design and architecture.
        </p>
        <p>
          Ján Pernecký and I created the software tools necessary for the
          internship students to experiment with the method. We opted to make
          the WFC solver a plugin
          for <a href="https://www.grasshopper3d.com/">Grasshopper</a>, an node
          based programming language for computationally creating shapes and
          forms.
        </p>
        <p>
          While Ján Pernecký tackled the UI of the tool (a hard problem
          deserving its own blog post), I worked mostly on the WFC Solver
          itself. To enable fast iteration for designers, we knew the tool
          needed to respond to parameter changes quickly, ideally real-time. The
          heavy lifting is therefore implemented in Rust and loaded into
          Grasshopper as a DLL. Inside the library itself, WFC slots and the
          modules they contained were represented as compact bit vectors of 256
          bits and operated on by just a handful of bitwise instructions and
          bit-counting intrinsics. While initially worried about the 256 limit
          on the WFC module count, the students' projects never reached this
          limit in practice.
        </p>
      </div>
      <picture>
        <img src="./wfc.png" sizes="100vw"
             srcset="./wfc.png 1000w"
             alt="WFC schematics; picture courtesy of Kristýna Uhrová & Subdigital" />
        <p>WFC schematics; picture courtesy of Kristýna Uhrová & Subdigital</p>
      </picture>
    </section>

    <section>
      <div>
        <h1>H.U.R.B.A.N. Selector</h1>
        <h2>An experimental procedural geometry modeling and morphing tool</h2>
      </div>

      <div><!-- EMPTY --></div>

      <div>
        <p class="mt25">
          <a href="https://github.com/subdgtl/HURBAN-Selector">H.U.R.B.A.N
          Selector</a> is a software experiment initially funded by
          the <a href="https://www.scd.sk/">Slovak Design Center</a> I work on
          with Ján Pernecký (<a href="https://sub.digital">Subdigital</a>)
          and <a href="https://www.linkedin.com/in/ondrowan/">Ondrej
          Slinták</a>. It is meant to test the hypothesis that creating new
          designs and shapes is subconsciously inspired by our previous
          experience. There is a trial and error phase in the design process
          where many variations on the same shape are prototyped and chosen
          from.
        </p>

        <p>
          The software currently has many rough edges (mostly on the usability
          side), but it strives to be a tool for simple parametric modeling,
          containing implementations of various morphing strategies for mesh
          models, allowing designers to smoothly interpolate between multiple
          mesh geometries and select the result with the most desired features.
        </p>

        <p>
          Following the explicit history lineage
          of <a href="https://www.grasshopper3d.com/">Grasshopper</a>, we
          decided that every decision the user makes in the editor should not
          only be undo-able, but also modifiable at any point. The geometry
          displayed in the viewport is just the result of applying operations on
          the initially empty world. These operations can create or import
          geometry, or transform existing geometries in some way, e.g. perform
          iterative Laplace Relaxation.
        </p>
      </div>

      <picture>
        <img src="./hurban_selector.png" sizes="100vw"
             srcset="./hurban_selector.png 1000w" />
        <p>Screenshot of a model morph in H.U.R.B.A.N. Selector</p>
      </picture>

      <div>
        <p>
          Exposing the declarative nature of editing to the user freed us to
          utilize a well specified thought model of having an interpreter that
          evaluates a directed acyclic graph of possibly interdependent
          operations. Naturally, we didn't want to execute the whole graph of
          possibly heavy operations on every change to its definition. Simple
          tricks such as ID-ing the operations instances by their operation type
          and parameter values allowed us to preserve sub-graphs of computation
          from previous interactions and only recompute the minimal necessary
          set of operations.
        </p>

        <p>
          I was surprised to learn that the UI of some 3D modeling tools
          (e.g. Rhino, Blender) can freeze up when performing computations on
          heavy geometries. We knew from the start that some of the topology
          traversal algorithms necessary to implement the strategy of morphing
          we initially wanted to do won't have great time complexity, and
          therefore opted to run the graph interpreter in its own thread and
          design the UI around this asynchrony from the get-go. As these things
          usually go, we did't implement the topology based approach to morphing
          in the end, but at least as a positive side effect the editor doesn't
          freeze up. Mostly.
        </p>

        <p>
          The editor itself is written in the Rust programming language, with
          the use of a few libraries
          (<a href="https://github.com/subdgtl/HURBAN-Selector/blob/master/Cargo.toml">Cargo.toml</a>).
          This certainly proved to be a lot of work, but has paid of in some
          areas - for instance our implementation of some geometry algorithms
          already outperforms Rhino. Overall the balance between using existing
          solutions and making something from scratch is tough to strike.
        </p>

        <p>
          H.U.R.B.A.N. Selector proved to be a lot of work and as our funding
          was nearing end, we had to sacrifice some of the things we wanted to
          do. Most notably, we are really unhappy with the current user
          interface. One of the first things we would do when working on the
          project again would be to openly admit to and promote the graph
          structure of the geometry definition, and allow the user to model
          geometry via a node-based programming environment similar to
          Grasshopper or Unreal Blueprints.
        </p>
      </div>

      <picture>
        <img src="./hurban_selector-screenshot.png" sizes="100vw"
             srcset="./hurban_selector-screenshot.png 1000w" />
        <p>
          Screenshot of Simplex Noise generated scalar field materialized via
          Marching Cubes and smoothed by Loop Subdivision in
          H.U.R.B.A.N. Selector
        </p>
      </picture>
    </section>

    <section>
      <div>
        <h1>Bratislava 2022 Model</h1>
        <h2>Interactive urban model of Bratislava, Slovakia</h2>
      </div>
      <div><!-- EMPTY --></div>
      <div>
        <!-- TODO(yan): Abaffy Design link -->
        <p class="mt25">
          The <a href="https://sub.digital/project02">BA 2022 model</a> is a
          commercial project I worked on
          with <a href="https://sub.digital">Subdigital</a> and Abaffy Design
          for <a href="https://hbreavis.com/">HB Reavis</a> in 2017. It fuses
          design, engineering and software to explain the connection of large
          real-estate development to its surroundings in the city of
          Bratislava. The model's 3x4K screen shows a stylized animated map of
          the city. The presenter interacts with the model via a connected
          mobile tablet and controls what the map shows.
        </p>

        <p>
          While not initially intended, the engine in the model ended up being
          mostly a compositor of animated layers (each potentially running
          internal simulations) that could be turned on and off
          individually. Blending animated layers was a simple mental model for
          representing features in the engine - every user-visible feature is a
          either an data-controlled animated layer or a blend thereof.
        </p>

        <p>
          Even in idling state with no active highlights set by the presenter,
          the model still displays a lot of PRNG-guided moving elements like
          transportation and pedestrians. While we knew we would have a powerful
          desktop computer available, we still wanted to be conservative with
          the CPU and GPU budget so we partially specialized and precomputed
          simulation and animation data offline whenever possible.
        </p>

        <p>
          Because of the requirement to render HTML and the fact that the team
          was mostly familiar with web technologies at the time, the engine runs
          on (carefully written) TypeScript and paints pixels via WebGL and a
          small amount of Chromium-rendered SVG. While that wouldn't be my
          choice for what is basically an embedded project today, I am still
          grateful for the iteration speed it gave us.
        </p>
      </div>
      <picture>
        <img class="filter-invert"
             src="./BA2022.png" sizes="100vw"
             srcset="./BA2022.png 1000w"
             alt="BA 2022 Model; picture courtesy of Subdigital" />
        <p>BA 2022 Model; picture courtesy of Subdigital</p>
      </picture>
    </section>
  </main>

  <footer>
    <p>Yan Tóth</p>
    <p>yanchi.toth@gmail.com</p>
    <p><a href="https://github.com/yanchith/">github.com/yanchith/</p>
    <p><a href="https://twitter.com/yanchith">twitter.com/yanchith/</p>
  </footer>
</body>
</html>
